
# 面试日记2022-01-22
文章封面:  https://veport.oss-cn-beijing.aliyuncs.com/articles/f9fa18da262910eb13f802b003147915.jpg
文章类型: 1
文章分类: 面试笔记
文章标签: [面试笔记]
文章内容:
创建时间: 2022-01-22 13:29:27 +0800 CST

## [浅谈C++中指针和引用的区别](https://www.cnblogs.com/dolphin0520/archive/2011/04/03/2004869.html)

指针和引用在C++中很常用，但是对于它们之间的区别很多初学者都不是太熟悉，下面来谈谈他们2者之间的区别和用法。

1.指针和引用的定义和性质区别：

(1)指针：指针是一个变量，只不过这个变量存储的是一个地址，指向内存的一个存储单元；而引用跟原来的变量实质上是同一个东西，只不过是原变量的一个别名而已。如：

int a=1;int *p=&a;

int a=1;int &b=a;

上面定义了一个整形变量和一个指针变量p，该指针变量指向a的存储单元，即p的值是a存储单元的地址。

而下面2句定义了一个整形变量a和这个整形a的引用b，事实上a和b是同一个东西，在内存占有同一个存储单元。

(2)可以有const指针，但是没有const引用；

(3)指针可以有多级，但是引用只能是一级（int **p；合法 而 int &&a是不合法的）

(4)指针的值可以为空，但是引用的值不能为NULL，并且引用在定义的时候必须初始化；

(5)指针的值在初始化后可以改变，即指向其它的存储单元，而引用在进行初始化后就不会再改变了。

(6)"sizeof引用"得到的是所指向的变量(对象)的大小，而"sizeof指针"得到的是指针本身的大小；

(7)指针和引用的自增(++)运算意义不一样；
## C/C++之内存四区的详细介绍
C/C++编译器会把代码直接分为四个小区：

(1).栈区(stack)：由编译器自动分配和释放，存放函数的参数值，局部变量的值等。

(2).堆区(heap)：一般是由程序员分配释放(动态内存申请与释放)，若程序员不释放，程序结束时可能由操作系统回收

(3).全局区(静态区，常量区)：全局变量和静态变量的存储是放在一起的，初始化的全局变量和静态变量在一块区域，未初始化的全局变量和未初始化的静态变量在相邻的另一块区域，该区域在程序结束后由操作系统释放。常量区是字符串常量和其他常量的存储位置，程序结束后由系统自动释放。

(4).程序代码区：存放函数体的二进制代码。

## qt/C++从源文件到可执行文件的编译过程

从源文件(.c，.cpp，.h)到可执行文件(.exe，.dll——不是只有exe才叫可执行文件)依次经历下面几个过程

![img](https://img-blog.csdnimg.cn/20191219211854678.png)

### **预处理阶段**

   尽管现在编译器都包含了预处理器，但是通常预处理是独立编译阶段的。也有的称这一阶段为预编译阶段。

 预处理主要对条件编译指令及对宏定义的展开(替换)和对#include的处理等(注意：保留所有的#pragma编译指令，因为编译器需要使用它们)，同时也会删除程序中的注释和多余的空白符，经过预处理后生成一个没有宏定义、条件编译指令、没有特殊符号的文件，这个文件与与源文件并无本质区别

### **编译阶段**

  编译阶段是将.i文件生成机器语言.s。这一阶段主要是与语法上的检查和代码优化。语法上的检查有静态和动态。对于静态检查是指不用经过运算即可完成的检查，如类型转换；动态检查是指在运行阶段才能完成的，如除0操作。

**优化阶段**

  现在的优化主要有两类，一类是与硬件相关，另一类是与硬件无关。与硬件相关的优化是：借助硬件的性能，减少内存访问次数以及硬件执行指令的特点（如流水线、RISC、CISC、VLIW等）而对指令进行一些调整使目标代码比较短，从而提高效率；与硬件无关主要表现在优化循环(削弱强度，代码外提)、删除无用变量等

### **汇编阶段**

  汇编阶段就是将机器语言转换成机器指令，如mov指令等，最终生成.o文件

### **链接阶段**

  链接阶段就是将各个.o文件链接成可执行文件，.o是各个独立的模块。其中链接分为静态和动态链接。静态和动态区别主要表现在几个方面：

 1、链接时机。静态是在形成可执行文件前就被安排的妥妥的了，动态是在执行时才知道谁找谁

 2、内存持有方式。静态是对于每个需要依赖的地方都copy一份副本，而动态则是内存中只保留一份副本，大家共享这份副本。举例子说就是：静态就是老婆，人人手中有一辆；动态就是公交车，就那么一辆，谁用谁来取

 3、升级影响。静态既然是在需要的地方都会保留一份副本，当所依赖的.o改变时，就会牵一发动全身；而动态则不会，默默的做好自己就行了。

 

那么,qt的编译过程是怎样的呢?

**qt的编译经过两个阶段,qmake和make**.

**qmake阶段**.使用qmake.exe生成MakeFile、Makefile.Debug和Makefile.Release。也就是一个debug和release版本的Makefile文件。打开任意版本的Makefile可以看到，里面定义了各种语句，类似moc_xxx.cpp等。其实也就是说通过qmake.exe创建了一个依赖规则的文件，让编译器根据这个规则进行链接和生成目标文件

**make阶段**.这一阶段其实就是普通的make文件的过程，具体可以看上一部分

## ICMP协议是什么协议？

### **ICMP是啥？**

ICMP，全称为Internet Control Message Protocol，即为因特网控制报文协议。

### **ICMP解决了啥？**

IP协议本身即没有为终端系统提供直接的方式来发现那些发往目的地址失败的IP数据包，也没有提供直接的方式来获取诊断信息。而ICMP就是为了解决IP协议的不足引入的网络协议。

### **ICMP属于TCP/IP四层模型的哪一层？**

ICMP既不是网络层协议，也不是传输层协议，但是通常ICMP被认为是IP层的一部分。

### **ICMP长啥样？**

以ICMP分为ICMPv4和ICMPv6版本，分别对应IPv4协议和IPv6协议。以简单的ICMPv4为例，一条ICMPv4消息分为IPv4头部（20～60字节）、ICMP头部（又分为1字节的类型位、1字节的代码位、2字节的校验和）以及ICMP数据，其中IPv4头部中的协议位数值为1。
![img](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9KRHRiSG5ySFJuUGJpY0JVU21pYUs0anhJWGdTRDZGcmozdnAxSzZIVGJiM0NYbG10VFd2czluZ3JxZUFreTNtZEtYMmwxekNCZWg3cHhiTEpqT2V0cElRLzY0MA?x-oss-process=image/format,png)

## 路由器和交换机的区别

一、指代不同

1、路由器：是连接两个或多个网络的硬件设备，在网络间起网关的作用，是读取每一个数据包中的地址然后决定如何传送的专用智能性的网络设备。

2、交换机：是一种用于电（光）信号转发的网络设备。

二、功能不同

1、路由器：最主要的功能可以理解为实现信息的转送。把这个过程称之为寻址过程。因为在路由器处在不同网络之间，但并不一定是信息的最终接收地址。所以在路由器中, 通常存在着一张路由表。

2、交换机：交换机有带宽很高的内部交换矩阵和背部总线，并且这个背部总线上挂接了所有的端口，通过内部交换矩阵，就能够把数据包直接而迅速地传送到目的节点而非所有节点， 这样就不会浪费网络资源，从而产生非常高的效率。

三、特点不同

1、路由器：核心是背板，高效率的背板有助于提高路由器的性能。由于传统的共享总线式背板无法满足路由器的需要，所以采用结构可以用不同技术实现的交换式背板。

2、交换机：交换机在同一时刻可进行多个端口对之间的数据传输。每一端口都可视为独立的物理网段（注：非IP网段），连接在其上的网络设备独自享有全部的带宽，无须同其他设备竞争使用。

参考资料来源：[百度百科-交换机](https://baike.baidu.com/item/交换机/103532?fr=aladdin)

参考资料来源：[百度百科-路由器](https://baike.baidu.com/item/路由器/108294?fr=aladdin)

## 区块链相关疑问解析
https://www.runoob.com/w3cnote/question-and-analysis.html

