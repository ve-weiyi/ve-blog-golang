# 从零开始部署博客系统

本文档是 ve-blog-golang 博客系统部署的完整指南，涵盖从资源准备到生产部署的全流程。

## 部署流程

### 1. 资源准备

| 步骤    | 文档                                 | 说明         |
|-------|------------------------------------|------------|
| 服务器准备 | [资源准备（1）服务器准备.md](资源准备（1）服务器.md)   | 服务器选型与购买   |
| 存储服务  | [资源准备（2）存储服务配置.md](资源准备（2）存储服务.md) | OSS 对象存储配置 |

### 2. 环境搭建

| 步骤       | 文档                                       | 说明          |
|----------|------------------------------------------|-------------|
| Docker   | [环境搭建（1）Docker.md](环境搭建（1）Docker.md)     | Docker 环境安装 |
| MySQL    | [环境搭建（2）MySQL.md](环境搭建（2）MySQL.md)       | MySQL 数据库配置 |
| Redis    | [环境搭建（3）Redis.md](环境搭建（3）Redis.md)       | Redis 缓存配置  |
| RabbitMQ | [环境搭建（4）RabbitMQ.md](环境搭建（4）RabbitMQ.md) | 消息队列配置      |

### 3. 生产部署

| 步骤      | 文档                                     | 说明       |
|---------|----------------------------------------|----------|
| 服务部署    | [生产部署（1）服务部署.md](生产部署（1）服务部署.md)       | 后端服务部署   |
| Nginx配置 | [生产部署（2）Nginx配置.md](生产部署（2）Nginx配置.md) | 反向代理配置   |
| 域名准备    | [生产部署（3）域名配置.md](生产部署（3）域名配置.md)       | 域名注册与备案  |
| HTTPS配置 | [生产部署（4）HTTPS配置.md](生产部署（4）HTTPS配置.md) | SSL 证书配置 |

## 快速开始

### 最小化部署（本地开发）

适合快速体验和本地开发，无需域名和备案。

**1. 安装 Docker**

```bash
curl -fsSL https://get.docker.com | bash -s docker
```

**2. 启动基础服务**

```bash
cd deploy/docker-compose/data
docker-compose up -d
```

**3. 初始化数据库**

```bash
mysql -h localhost -u root -p < blog-veweiyi-init.sql
mysql -h localhost -u root -p < blog-veweiyi-data.sql
```

**4. 启动应用服务**

```bash
cd blog-gozero
make run-rpc    # 启动 RPC 服务
make run-blog   # 启动博客前台 API
make run-admin  # 启动管理后台 API
```

**5. 访问服务**

- 博客前台接口：http://localhost:9090/api/v1/swagger/index.html
- 管理后台接口：http://localhost:9091/admin_api/v1/swagger/index.html

### 完整部署（生产环境）

生产环境部署需要完成以下三个阶段，建议按顺序执行：

1. **资源准备阶段**：购买服务器、注册域名、申请证书
2. **环境搭建阶段**：安装 Docker、MySQL、Redis 等基础服务
3. **生产部署阶段**：部署应用服务、配置 Nginx、启用 HTTPS

详细步骤请参考上述部署流程表格中的各个文档。

## 架构说明

详细的架构设计请参考：[博客服务架构设计.md](博客服务架构设计.md)

## 技术栈

详细的技术栈说明请参考：[博客网站技术总结.md](博客网站技术总结.md)

## 功能展示

详细的功能展示请参考：[博客网站功能展示.md](博客网站功能展示.md)

## 重要提示

### 配置要求

- **最低配置**：2核2GB（适合个人博客）
- **推荐配置**：2核4GB（适合生产环境）
- **存储空间**：至少 50GB SSD

### 安全建议

- ✅ 修改所有默认密码（MySQL、Redis、RabbitMQ）
- ✅ 配置防火墙规则，仅开放必要端口
- ✅ 启用 HTTPS 加密传输
- ✅ 定期备份数据库和配置文件
- ✅ 配置服务监控和日志告警

### 备案要求

- 使用国内服务器必须完成域名备案
- 备案期间网站无法通过域名访问
- 备案审核时间约 7-20 个工作日

## 常见问题

### 1. 服务无法启动

- 检查端口是否被占用
- 检查配置文件是否正确
- 查看服务日志排查错误

### 2. 数据库连接失败

- 检查数据库服务是否启动
- 检查数据库连接配置
- 检查防火墙规则

### 3. 前端无法访问

- 检查 Nginx 配置
- 检查防火墙规则
- 检查域名解析

## 参考资料

- [项目 README](../../README.md)
- [项目启动说明](../../blog-gozero/项目启动说明.md)
- [服务部署说明](../../deploy/服务部署说明.md)
