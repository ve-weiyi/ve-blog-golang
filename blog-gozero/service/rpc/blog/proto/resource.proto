// 声明 proto 语法版本，固定值
syntax = "proto3";

// proto 包名
package resourcerpc;

// 生成 golang 代码后的包名
option go_package = "./resourcerpc";

/************** 通用消息 **************/
// 分页请求参数
message PageReq {
  int64 page = 1;      // 页码
  int64 page_size = 2; // 每页大小
  repeated string sorts = 3; // 排序字段
}

// 分页响应参数
message PageResp {
  int64 page = 1;      // 页码
  int64 page_size = 2; // 每页大小
  int64 total = 3;     // 总数
}

/************** 照片管理 **************/
message Photo {
  int64 id = 1;// 主键
  int64 album_id = 2;// 相册id
  string photo_name = 3;// 照片名
  string photo_desc = 4;// 照片描述
  string photo_src = 5;// 照片地址
  int64 is_delete = 6;// 是否删除
  int64 created_at = 7;// 创建时间
  int64 updated_at = 8;// 更新时间
}

message AddPhotoReq {
  int64 id = 1;// 主键
  int64 album_id = 2;// 相册id
  string photo_name = 3;// 照片名
  string photo_desc = 4;// 照片描述
  string photo_src = 5;// 照片地址
  int64 is_delete = 6;// 是否删除
}

message AddPhotoResp {
  Photo photo = 1;
}

message UpdatePhotoReq {
  int64 id = 1;// 主键
  int64 album_id = 2;// 相册id
  string photo_name = 3;// 照片名
  string photo_desc = 4;// 照片描述
  string photo_src = 5;// 照片地址
  int64 is_delete = 6;// 是否删除
}

message UpdatePhotoResp {
  Photo photo = 1;
}

message UpdatePhotoDeleteReq {
  repeated int64 ids = 1;// id
  int64 is_delete = 2;// 是否删除
}

message UpdatePhotoDeleteResp {
  int64 success_count = 1; // 成功数量
}

message DeletesPhotoReq {
  repeated int64 ids = 1; // id列表
}

message DeletesPhotoResp {
  int64 success_count = 1; // 成功数量
}

message FindPhotoListReq {
  PageReq paginate = 1;    // 分页参数
  int64 album_id = 2; // 相册id
  int64 is_delete = 3;// 是否删除
}

message FindPhotoListResp {
  PageResp pagination = 1; // 分页信息
  repeated Photo list = 2;
}

/************** 相册管理 **************/
message Album {
  int64 id = 1;// 主键
  string album_name = 2;// 相册名
  string album_desc = 3;// 相册描述
  string album_cover = 4;// 相册封面
  int64 is_delete = 5;// 是否删除
  int64 status = 6;// 状态值 1公开 2私密
  int64 created_at = 7;// 创建时间
  int64 updated_at = 8;// 更新时间
  int64 photo_count = 9;// 照片数量
}

message AddAlbumReq {
  int64 id = 1;// 主键
  string album_name = 2;// 相册名
  string album_desc = 3;// 相册描述
  string album_cover = 4;// 相册封面
  int64 is_delete = 5;// 是否删除
  int64 status = 6;// 状态值 1公开 2私密
}

message AddAlbumResp {
  Album album = 1;
}

message UpdateAlbumReq {
  int64 id = 1;// 主键
  string album_name = 2;// 相册名
  string album_desc = 3;// 相册描述
  string album_cover = 4;// 相册封面
  int64 is_delete = 5;// 是否删除
  int64 status = 6;// 状态值 1公开 2私密
}

message UpdateAlbumResp {
  Album album = 1;
}

message UpdateAlbumDeleteReq {
  repeated int64 ids = 1;// 相册id
  int64 is_delete = 2;// 是否删除
}

message UpdateAlbumDeleteResp {
  int64 success_count = 1; // 成功数量
}

message GetAlbumReq {
  int64 id = 1; // 相册id
}

message GetAlbumResp {
  Album album = 1;
}

message DeletesAlbumReq {
  repeated int64 ids = 1; // id列表
}

message DeletesAlbumResp {
  int64 success_count = 1; // 成功数量
}

message FindAlbumListReq {
  PageReq paginate = 1;    // 分页参数
  string album_name = 2;// 相册名
  int64 is_delete = 3;// 是否删除
}

message FindAlbumListResp {
  PageResp pagination = 1; // 分页信息
  repeated Album list = 2;
}

/************** 页面管理 **************/
message Page {
  int64 id = 1;// 页面id
  string page_name = 2;// 页面名
  string page_label = 3;// 页面标签
  string page_cover = 4;// 页面封面
  int64 is_carousel = 5;// 是否轮播
  repeated string carousel_covers = 6;// 轮播列表
  int64 created_at = 7;// 创建时间
  int64 updated_at = 8;// 更新时间
}

message AddPageReq {
  int64 id = 1;// 页面id
  string page_name = 2;// 页面名
  string page_label = 3;// 页面标签
  string page_cover = 4;// 页面封面
  int64 is_carousel = 5;// 是否轮播
  repeated string carousel_covers = 6;// 轮播列表
}

message AddPageResp {
  Page page = 1;
}

message UpdatePageReq {
  int64 id = 1;// 页面id
  string page_name = 2;// 页面名
  string page_label = 3;// 页面标签
  string page_cover = 4;// 页面封面
  int64 is_carousel = 5;// 是否轮播
  repeated string carousel_covers = 6;// 轮播列表
}

message UpdatePageResp {
  Page page = 1;
}

message DeletesPageReq {
  repeated int64 ids = 1; // id列表
}

message DeletesPageResp {
  int64 success_count = 1; // 成功数量
}

message FindPageListReq {
  PageReq paginate = 1;    // 分页参数
  string page_name = 2;// 页面名
}

message FindPageListResp {
  PageResp pagination = 1; // 分页信息
  repeated Page list = 2;
}


service ResourceRpc {
  // 创建照片
  rpc AddPhoto(AddPhotoReq) returns(AddPhotoResp);
  // 更新照片
  rpc UpdatePhoto(UpdatePhotoReq) returns(UpdatePhotoResp);
  // 更新照片删除状态
  rpc UpdatePhotoDelete(UpdatePhotoDeleteReq) returns(UpdatePhotoDeleteResp);
  // 删除照片
  rpc DeletesPhoto(DeletesPhotoReq) returns(DeletesPhotoResp);
  // 查询照片列表
  rpc FindPhotoList(FindPhotoListReq) returns(FindPhotoListResp);

  // 创建相册
  rpc AddAlbum(AddAlbumReq) returns(AddAlbumResp);
  // 更新相册
  rpc UpdateAlbum(UpdateAlbumReq) returns(UpdateAlbumResp);
  // 更新相册删除状态
  rpc UpdateAlbumDelete(UpdateAlbumDeleteReq) returns(UpdateAlbumDeleteResp);
  // 获取相册
  rpc GetAlbum(GetAlbumReq) returns(GetAlbumResp);
  // 删除相册
  rpc DeletesAlbum(DeletesAlbumReq) returns(DeletesAlbumResp);
  // 查询相册列表
  rpc FindAlbumList(FindAlbumListReq) returns(FindAlbumListResp);

  // 创建页面
  rpc AddPage(AddPageReq) returns(AddPageResp);
  // 更新页面
  rpc UpdatePage(UpdatePageReq) returns(UpdatePageResp);
  // 删除页面
  rpc DeletesPage(DeletesPageReq) returns(DeletesPageResp);
  // 查询页面列表
  rpc FindPageList(FindPageListReq) returns(FindPageListResp);
}
